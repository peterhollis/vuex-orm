
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>What Is Vuex ORM Â· Vuex ORM</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="installation.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../prologue.html">
            
                <a href="../prologue.html">
            
                    
                    Prologue
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <a target="_blank" href="https://github.com/vuex-orm/vuex-orm/releases">
            
                    
                    Release Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="what-is-vuex-orm.html">
            
                <a href="what-is-vuex-orm.html">
            
                    
                    What Is Vuex ORM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-components.html">
            
                <a href="../core-components.html">
            
                    
                    Core Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../components/models.html">
            
                <a href="../components/models.html">
            
                    
                    Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../components/modules-and-store.html">
            
                <a href="../components/modules-and-store.html">
            
                    
                    Modules And Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../components/database-and-registration.html">
            
                <a href="../components/database-and-registration.html">
            
                    
                    Database And Registration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../interacting-with-store.html">
            
                <a href="../interacting-with-store.html">
            
                    
                    Interacting With Store
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../store/inserting-and-updating-data.html">
            
                <a href="../store/inserting-and-updating-data.html">
            
                    
                    Inserting And Updating Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../store/retrieving-data.html">
            
                <a href="../store/retrieving-data.html">
            
                    
                    Retrieving Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../store/deleting-data.html">
            
                <a href="../store/deleting-data.html">
            
                    
                    Deleting Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../relationships.html">
            
                <a href="../relationships.html">
            
                    
                    Relationships
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../relationships/defining-relationships.html">
            
                <a href="../relationships/defining-relationships.html">
            
                    
                    Defining Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../relationships/inserting-relationships.html">
            
                <a href="../relationships/inserting-relationships.html">
            
                    
                    Inserting Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../relationships/retrieving-relationships.html">
            
                <a href="../relationships/retrieving-relationships.html">
            
                    
                    Retrieving Relationships
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../advanced-usage.html">
            
                <a href="../advanced-usage.html">
            
                    
                    Advanced Usage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../advanced/interact-with-store-from-model.html">
            
                <a href="../advanced/interact-with-store-from-model.html">
            
                    
                    Interact With Store From Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../advanced/accessors-and-mutators.html">
            
                <a href="../advanced/accessors-and-mutators.html">
            
                    
                    Accessors & Mutators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../advanced/lifecycle-hooks.html">
            
                <a href="../advanced/lifecycle-hooks.html">
            
                    
                    Lifecycle Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../advanced/serialization.html">
            
                <a href="../advanced/serialization.html">
            
                    
                    Serialization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../digging-deeper.html">
            
                <a href="../digging-deeper.html">
            
                    
                    Digging Deeper
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../digging-deeper/query-class.html">
            
                <a href="../digging-deeper/query-class.html">
            
                    
                    Query Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../digging-deeper/plugins.html">
            
                <a href="../digging-deeper/plugins.html">
            
                    
                    Plugins
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../api-reference.html">
            
                <a href="../api-reference.html">
            
                    
                    API Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../api/model.html">
            
                <a href="../api/model.html">
            
                    
                    Model
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >What Is Vuex ORM</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="prologue-what-is-vuex-orm">Prologue: What Is Vuex ORM?</h1><p>Many APIs return JSON data that has deeply nested objects. Using data in this kind of structure can be very difficult for JavaScript applications, especially those using the single tree state management system such as <a href="https://vuex.vuejs.org" target="_blank">Vuex</a> or <a href="http://redux.js.org" target="_blank">Redux</a>.</p><p>To nicely handle such &quot;deeply nested objects&quot;, one approach is to split those nested data into each module and decouple them from each other.</p><p>Simply put, it kind of likes treating a portion of your store as if it were a database, and keep that data in a normalized form.</p><p><a href="http://redux.js.org/docs/recipes/reducers/NormalizingStateShape.html" target="_blank">This is an excellent article</a> that describes the hardness of the nested data structure. It also explains how to design normalized state.</p><h2 id="what-is-it-like-to-use-vuex-orm">What Is It Like To Use Vuex ORM</h2><p>Here we show how it would look like to be using Vuex ORM on your application.</p><p>Let&apos;s say you fetch posts data from a server and the response is something like below.</p><pre><code class="lang-js"><span class="hljs-keyword">const</span> post = [
  {
    id: <span class="hljs-number">1</span>,
    body: <span class="hljs-string">&quot;......&quot;</span>,
    author: { id: <span class="hljs-number">1</span>, username: <span class="hljs-string">&quot;user1&quot;</span>, name: <span class="hljs-string">&quot;User 1&quot;</span> },
    comments: [
      {
        id : <span class="hljs-number">1</span>,
        author : { id: <span class="hljs-number">2</span>, username: <span class="hljs-string">&quot;user2&quot;</span>, name : <span class="hljs-string">&quot;User 2&quot;</span> },
        comment : <span class="hljs-string">&quot;.....&quot;</span>
      },
      {
        id: <span class="hljs-number">2</span>,
        author: { id: <span class="hljs-number">2</span>, username: <span class="hljs-string">&quot;user2&quot;</span>, name: <span class="hljs-string">&quot;User 2&quot;</span> },
        comment: <span class="hljs-string">&quot;.....&quot;</span>
      }
    ]    
  },
  {
    id: <span class="hljs-number">2</span>,
    author: { id: <span class="hljs-number">2</span>, username: <span class="hljs-string">&quot;user2&quot;</span>, name: <span class="hljs-string">&quot;User 2&quot;</span> },
    body: <span class="hljs-string">&quot;......&quot;</span>,
    comments: [
      {
        id: <span class="hljs-number">3</span>,
        author: { id: <span class="hljs-number">3</span>, username: <span class="hljs-string">&quot;user3&quot;</span>, name: <span class="hljs-string">&quot;User 3&quot;</span> },
        comment: <span class="hljs-string">&quot;.....&quot;</span>
      },
      {
        id: <span class="hljs-number">4</span>,
        author: { id: <span class="hljs-number">1</span>, username: <span class="hljs-string">&quot;user1&quot;</span>, name: <span class="hljs-string">&quot;User 1&quot;</span> },
        comment: <span class="hljs-string">&quot;.....&quot;</span>
      },
      {
        id: <span class="hljs-number">5</span>,
        author: { id: <span class="hljs-number">3</span>, username: <span class="hljs-string">&quot;user3&quot;</span>, name: <span class="hljs-string">&quot;User 3&quot;</span> },
        comment: <span class="hljs-string">&quot;.....&quot;</span>
      }
    ]    
  }
  <span class="hljs-comment">// and so on...</span>
]</code></pre>
<p>See there are lots of <code>author</code> fields and some of them are the exact same authors. If you save this data to the store as is, it&apos;s going to be very hard to update those authors or comments.</p><p>When you store above posts data using Vuex ORM, the look of the Vuex Store State is going to be as below.</p><pre><code class="lang-js"><span class="hljs-comment">// Save data using Vuex Action.</span>
store.dispatch(<span class="hljs-string">&apos;entities/posts/create&apos;</span>, { data: posts })

<span class="hljs-comment">// Then inside Vuex State becomes like this.</span>
{
  entities: {
    comments: {
      data: {
        <span class="hljs-string">&quot;1&quot;</span>: {
          id: <span class="hljs-number">1</span>,
          author: <span class="hljs-string">&quot;2&quot;</span>,
          comment: <span class="hljs-string">&quot;.....&quot;</span>
        },
        <span class="hljs-string">&quot;2&quot;</span>: {
          id: <span class="hljs-number">2</span>,
          author: <span class="hljs-string">&quot;2&quot;</span>,
          comment: <span class="hljs-string">&quot;.....&quot;</span>
        },
        <span class="hljs-string">&quot;3&quot;</span>: {
          id: <span class="hljs-number">3</span>,
          author: <span class="hljs-string">&quot;3&quot;</span>,
          comment: <span class="hljs-string">&quot;.....&quot;</span>
        },
        <span class="hljs-string">&quot;4&quot;</span>: {
          id: <span class="hljs-number">4</span>,
          author: <span class="hljs-string">&quot;1&quot;</span>,
          comment: <span class="hljs-string">&quot;.....&quot;</span>
        },
        <span class="hljs-string">&quot;5&quot;</span>: {
          id: <span class="hljs-number">5</span>,
          author: <span class="hljs-string">&quot;3&quot;</span>,
          comment: <span class="hljs-string">&quot;.....&quot;</span>
        }
      }
    },

    posts: {
      data: {
        <span class="hljs-string">&quot;1&quot;</span>: {
          id: <span class="hljs-number">1</span>,
          body: <span class="hljs-string">&quot;......&quot;</span>,
          author: <span class="hljs-string">&quot;1&quot;</span>,
          comments: [<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;2&quot;</span>]  
        },
        <span class="hljs-string">&quot;2&quot;</span>: {
          id: <span class="hljs-number">2</span>,
          author: [<span class="hljs-string">&quot;2&quot;</span>],
          body: <span class="hljs-string">&quot;......&quot;</span>,
          comments: [<span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;4&quot;</span>, <span class="hljs-string">&quot;5&quot;</span>]
        }
      }
    },

    users: {
      data: {
        <span class="hljs-string">&quot;1&quot;</span>: {
          id: <span class="hljs-number">1</span>,
          username: <span class="hljs-string">&quot;user1&quot;</span>,
          name: <span class="hljs-string">&quot;User 1&quot;</span> 
        },
        <span class="hljs-string">&quot;2&quot;</span>: {
          id: <span class="hljs-number">2</span>,
          username: <span class="hljs-string">&quot;user2&quot;</span>,
          name: <span class="hljs-string">&quot;User 2&quot;</span> 
        },
        <span class="hljs-string">&quot;3&quot;</span>: {
          id: <span class="hljs-number">3</span>,
          username: <span class="hljs-string">&quot;user3&quot;</span>,
          name: <span class="hljs-string">&quot;User 3&quot;</span>
        }
      }
    }
  }
}</code></pre>
<p>See how each data is decoupled and deduplicated. Then you can fetch these data using Vuex Getters. These getters are also built in by Vuex ORM.</p><pre><code class="lang-js"><span class="hljs-comment">// Fetch only posts.</span>
<span class="hljs-keyword">const</span> posts = store.getters[<span class="hljs-string">&apos;entities/posts/all&apos;</span>]()

<span class="hljs-comment">/*
  [
    { id: 1, body: &quot;......&quot; },
    { id: 2, body: &quot;......&quot; }
  ]
*/</span>

<span class="hljs-comment">// Fetch posts with relation.</span>
<span class="hljs-keyword">const</span> posts = store.getters[<span class="hljs-string">&apos;entities/posts/query&apos;</span>]().with(<span class="hljs-string">&apos;author&apos;</span>).get()

<span class="hljs-comment">/*
  [
    {
      id: 1,
      body: &quot;......&quot;,
      author: {
        id: 1,
        username: &quot;user1&quot;,
        name: &quot;User 1&quot; 
      }
    },
    {
      id: 2,
      body: &quot;......&quot;,
      author: {
        id: 2,
        username: &quot;user2&quot;,
        name: &quot;User 2&quot; 
      }
    }
  ]
*/</span>

<span class="hljs-comment">// Fetch data matching specific condition.</span>
<span class="hljs-keyword">const</span> posts = store.getters[<span class="hljs-string">&apos;entities/posts/query&apos;</span>]()
  .with(<span class="hljs-string">&apos;author&apos;</span>)
  .where(<span class="hljs-string">&apos;id&apos;</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">// Id of post.</span>
  .get()

<span class="hljs-comment">/*
  [
    {
      id: 1,
      body: &quot;......&quot;,
      author: {
        id: 1,
        username: &quot;user1&quot;,
        name: &quot;User 1&quot; 
      }
    }
  ]
*/</span></code></pre>
<p>Not only fetching saved data, but Vuex ORM also lets you create Model Class for each data structure. So when you retrieve data from the store by getters, those become a class instance.</p><pre><code class="lang-js">{
  entities: {
    users: {
      data: {
        <span class="hljs-string">&quot;1&quot;</span>: {
          id: <span class="hljs-number">1</span>,
          first_name: <span class="hljs-string">&apos;John&apos;</span>,
          last_name: <span class="hljs-string">&apos;Doe&apos;</span>
        }
      }
    }
  }
}

<span class="hljs-comment">// Define Model as class.</span>
<span class="hljs-keyword">import</span> { Model } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@vuex-orm/core&apos;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span> </span>{
  fullName () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.first_name + <span class="hljs-string">&apos; &apos;</span> + <span class="hljs-keyword">this</span>.last_name
  }
}

<span class="hljs-comment">// Fetch user from the store.</span>
<span class="hljs-keyword">const</span> user = store.getters[<span class="hljs-string">&apos;entities/users/find&apos;</span>](<span class="hljs-number">1</span>)

<span class="hljs-comment">// The `user` is an instance of User class!</span>
user.first_name <span class="hljs-comment">// John</span>
user.last_name  <span class="hljs-comment">// Doe</span>
user.fullName() <span class="hljs-comment">// John Doe</span></code></pre>
<p>Now, are you ready to start using Vuex ORM? <a href="getting-started.html">Let&apos;s get started</a>.</p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="installation.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Installation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"What Is Vuex ORM","level":"1.2.2","depth":2,"next":{"title":"Installation","level":"1.2.3","depth":2,"path":"prologue/installation.md","ref":"prologue/installation.md","articles":[]},"previous":{"title":"Release Notes","level":"1.2.1","depth":2,"url":"https://github.com/vuex-orm/vuex-orm/releases","ref":"https://github.com/vuex-orm/vuex-orm/releases","articles":[]},"dir":"ltr"},"config":{"plugins":["github","edit-link"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/vuex-orm/vuex-orm"},"edit-link":{"label":"Edit This Page","base":"https://github.com/vuex-orm/vuex-orm/tree/master/docs"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Vuex ORM","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":">3.0.0"},"file":{"path":"prologue/what-is-vuex-orm.md","mtime":"2018-02-23T13:06:07.766Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2018-04-11T14:59:53.694Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

